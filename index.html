<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Atış Hareketi Simülasyonu (g=10)</title>
  <style>
    body { font-family: Arial; background:#0f172a; color:#eee; margin:0; }
    h1 { text-align:center; }
    .wrap { display:flex; flex-wrap:wrap; gap:20px; padding:20px; }
    canvas { background:#111; border:1px solid #444; }
    .panel { flex:1; min-width:250px; }
    label { display:block; margin:8px 0 4px; }
    input { width:100%; }
    button { margin:6px 4px; padding:6px 12px; }
  </style>
</head>
<body>
  <h1>Atış Hareketi (g = 10 m/s²)</h1>
  <div class="wrap">
    <div class="panel">
      <label>İlk hız (m/s)</label>
      <input type="number" id="v0" value="20">
      <label>Açı (derece)</label>
      <input type="number" id="angle" value="45">
      <label>Başlangıç yüksekliği (m)</label>
      <input type="number" id="h0" value="0">
      <button onclick="start()">Başlat</button>
      <button onclick="reset()">Sıfırla</button>
    </div>
    <div>
      <canvas id="motion" width="400" height="300"></canvas>
      <p style="text-align:center">Hareketin görünümü</p>
    </div>
    <div>
      <canvas id="graphY" width="400" height="300"></canvas>
      <p style="text-align:center">y–t grafiği (konum–zaman)</p>
    </div>
    <div>
      <canvas id="graphX" width="400" height="300"></canvas>
      <p style="text-align:center">x–t grafiği (konum–zaman)</p>
    </div>
  </div>

<script>
const g = 10; // sabit yerçekimi
let v0, angle, h0;
let t=0, dt=0.1;
let path=[];

function start(){
  v0 = parseFloat(document.getElementById("v0").value);
  angle = parseFloat(document.getElementById("angle").value)*Math.PI/180;
  h0 = parseFloat(document.getElementById("h0").value);
  t=0; path=[];
  animate();
}

function reset(){
  ["motion","graphY","graphX"].forEach(id=>{
    const ctx=document.getElementById(id).getContext("2d");
    ctx.clearRect(0,0,400,300);
  });
  path=[];
}

function animate(){
  const ctxM=document.getElementById("motion").getContext("2d");
  const ctxY=document.getElementById("graphY").getContext("2d");
  const ctxX=document.getElementById("graphX").getContext("2d");
  ctxM.clearRect(0,0,400,300);
  ctxY.clearRect(0,0,400,300);
  ctxX.clearRect(0,0,400,300);

  // hesaplama
  let vx=v0*Math.cos(angle);
  let vy=v0*Math.sin(angle);
  let x=vx*t;
  let y=h0+vy*t-0.5*g*t*t;

  path.push({t,x,y});

  // hareket çizimi
  ctxM.fillStyle="yellow";
  ctxM.beginPath();
  ctxM.arc(50+x*5, 280-y*5, 8, 0, 2*Math.PI);
  ctxM.fill();

  // yol izi
  ctxM.strokeStyle="lime";
  ctxM.beginPath();
  for(let p of path){
    ctxM.lineTo(50+p.x*5, 280-p.y*5);
  }
  ctxM.stroke();

  // y–t grafiği
  ctxY.strokeStyle="cyan";
  ctxY.beginPath();
  for(let p of path){
    ctxY.lineTo(p.t*20, 280-p.y*5);
  }
  ctxY.stroke();

  // x–t grafiği
  ctxX.strokeStyle="orange";
  ctxX.beginPath();
  for(let p of path){
    ctxX.lineTo(p.t*20, 280-p.x*2);
  }
  ctxX.stroke();

  // uçuş bitene kadar devam
  if(y>=0){
    t+=dt;
    requestAnimationFrame(animate);
  }
}
</script>
</body>
</html>
